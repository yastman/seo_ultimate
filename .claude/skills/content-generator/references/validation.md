# Validation Checklist

Финальная проверка перед сдачей контента.

---

## Команды валидации

```bash
# Плотность ключей и переспам
python3 scripts/check_keyword_density.py categories/{slug}/content/{slug}_ru.md

# Тошнота и вода
python3 scripts/check_water_natasha.py categories/{slug}/content/{slug}_ru.md

# SEO валидация
python3 scripts/validate_content.py categories/{slug}/content/{slug}_ru.md "{primary_keyword}" --mode seo
```

---

## Метрики

| Метрика | Цель | Блокер |
|---------|------|--------|
| Stem-группа ключа | ≤2.5% | >3.0% = SPAM |
| Классическая тошнота | ≤3.5 | >4.0 |
| Вода | 40-65% | >75% |

---

## Checklist: Коммерческий интент

- [ ] **Первый H2 = "Как выбрать" / "Сценарии"**
- [ ] **Паттерн "Если X → Y"** минимум 3 раза
- [ ] **Таблица Задача → Тип → Почему** (3 колонки!)
- [ ] **Итог с рекомендациями по сценариям**
- [ ] **НЕТ секции "Как применять" с 5+ шагами**
- [ ] **НЕТ секции "Типы X" как справочник**

---

## Checklist: Заголовки H1/H2/H3

- [ ] **H1 = `name` из `_clean.json`** (не primary keyword!)
- [ ] H1 без "Купить"
- [ ] H2 по секциям (навигационные)
- [ ] **H3 в FAQ = `micro_intents` из `_clean.json`** (если есть)
- [ ] Intro 30-50 слов (без "мы предлагаем")

---

## Checklist: Распределение ключей

| Источник | Где | Проверить |
|----------|-----|-----------|
| `keywords[0]` (primary) | H1 + intro + текст | 2-3 раза |
| `keywords[1-2]` | H2 или первый абзац | 1 каждый |
| `keywords[3+]` | Таблицы, FAQ, итог | 1 каждый |
| `synonyms` (без meta_only) | По тексту | 1-2 |
| `entities` | Таблицы, FAQ | 3-4 минимум |
| `micro_intents` | **H3 в FAQ** | все покрыты |

**Проверка покрытия:**
```bash
grep -i "ключ1\|ключ2\|ключ3" categories/{slug}/content/{slug}_ru.md
```

---

## Checklist: Качество контента

- [ ] **Нет спорных утверждений без смягчения**
- [ ] **Нет брендов/процентов/точных цифр**
- [ ] **RU-first:** русский термин первым, англ. в скобках
- [ ] **Без "коммерческих" ключей в body** (купить, цена, заказать)
- [ ] **3-4 entity-термина** из `_clean.json` → `entities`

---

## Checklist: Тошнота и переспам

- [ ] Stem-группы ≤2.5%
- [ ] Классическая тошнота ≤3.5
- [ ] Тематические слова разбавлены синонимами (см. lsi-synonyms.md)

---

## Известные ограничения

| Ограничение | Что делать |
|-------------|------------|
| Grammar check требует Java | Не блокер — пропускается |
| `--mode quality` даёт WARNING по "Water" | Для SEO — не критично |

---

**Version:** 1.0 — January 2026
