---
name: seo-research
description: >-
  Use when you see /seo-research, исследуй категорию, собери данные, ресёрч для категории,
  подготовь промпт для ресёрча. Генерирует RESEARCH_PROMPT.md для Perplexity Deep Research.
---

# SEO Research для Ultimate.net.ua

## Quick Start

```
/seo-research {slug}
```

**Claude делает (~2 мин):**
1. Читает `categories/{slug}/data/{slug}_clean.json` → keywords, entities, micro_intents
2. Берёт `category_id` из `data/category_ids.json`
3. Находит товары в `data/generated/PRODUCTS_LIST.md` по `## ... (ID: {category_id})`
4. Извлекает обобщённые характеристики (только из каталога!)
5. Генерирует `categories/{slug}/research/RESEARCH_PROMPT.md`
6. Создаёт каркас `categories/{slug}/research/RESEARCH_DATA.md`

**Результат:** Файл готов для загрузки в Perplexity Deep Research (весь файл целиком).

**Критерий "готово":**
- Промпт не содержит неподтверждённых характеристик (всё из PRODUCTS_LIST)
- Perplexity-ответ с источниками сохранён в RESEARCH_DATA.md

---

## Ключевой принцип

Контент для **КАТЕГОРИИ**, не для товаров. Извлекаем обобщённые характеристики.

| Неправильно | Правильно |
|-------------|-----------|
| "Ultimate Slick Black 500 мл" | "гели для чернения" |
| "В категории есть X" (без проверки) | Только то, что в PRODUCTS_LIST |

---

## Workflow

```
/seo-research {slug}
├─► 1. Прочитать _clean.json → keywords, entities, micro_intents
├─► 2. Найти category_id → товары в PRODUCTS_LIST.md
├─► 3. Извлечь характеристики (ТОЛЬКО из каталога)
├─► 4. Сгенерировать RESEARCH_PROMPT.md
├─► 5. Создать каркас RESEARCH_DATA.md
└─► 6. Сообщить пользователю
```

---

## Источники данных

### _clean.json
`categories/{slug}/data/{slug}_clean.json` → name, keywords, entities, micro_intents, parent_id

### category_ids.json
`data/category_ids.json` → slug → section_id

> ⚠️ **Это ID секций из PRODUCTS_LIST.md, НЕ OpenCart category_id!**
> OpenCart ID другие (например antibitum=474, antimoshka=475 в deploy).

Если slug отсутствует: поискать похожий или найти по UK-названию, добавить в JSON.

### PRODUCTS_LIST.md
`data/generated/PRODUCTS_LIST.md` → искать `## ... (ID: {section_id})`

### Если несколько slug → один section_id

Когда разные категории (например antimoshka и antibitum) указывают на один ID (417):
1. Читай ВСЕ товары секции
2. Фильтруй по ключевым словам категории (из `_clean.json` keywords)
3. В ассортимент включай только товары, релевантные текущей категории

**Пример:** Секция 417 содержит и "очиститель битума" и "очиститель от насекомых".
Для antimoshka → только товары с "насекомых/мошка/мух".
Для antibitum → только товары с "битум/смола/гудрон".

---

## Что извлекать из товаров

| Характеристика | Примеры |
|----------------|---------|
| Формы выпуска | гель, спрей, лосьон, паста |
| Объёмы | 250мл, 500мл, 1л, 5л |
| База | водная, силиконовая |
| Эффекты | матовый, глянцевый |
| pH / тип | кислотный, щелочной |
| Пропорции | 1:5, 1:10, готовый |

**НЕ добавлять** характеристики "типичные для рынка", если их нет в товарах.

---

## Шаблон RESEARCH_PROMPT.md

Весь файл загружается в Perplexity Deep Research целиком.

```markdown
# {Название категории} ({slug}) — SEO Research

## Задача

Проведи глубокий web research по теме **{Название} ({EN название})**.
Изучи детейлинг-форумы (Autopia, Detailing World), YouTube обзоры (с таймкодами), TDS производителей.
Сравни источники — если расходятся, дай диапазон и укажи от чего зависит.
Результат — факты с источниками для SEO-текста категории.

## Контекст

- **Тип:** страница категории интернет-магазина автохимии
- **Категория:** {name}
- **Parent:** {parent_id}
- **Тип продуктов:** {автохимия / аксессуары / расходники}

## Ключевые слова

| Ключ | Объём |
|------|-------|
| {keyword} | {volume} |
...

**Entities:** {список}

**Вопросы пользователей:**
- {micro_intent_1}
- {micro_intent_2}
...

## Наш ассортимент (по данным каталога)

> ⚠️ Это факт про наш магазин. НЕ добавлять то, чего здесь нет.
> Если в источниках есть другие типы — описывать как "типично для рынка".

| Характеристика | Что есть |
|----------------|----------|
| Формы выпуска | {из описаний} |
| Объёмы | {из описаний} |
| База | {из описаний или "не указано"} |
| Эффекты | {из описаний или "не применимо"} |
| pH / тип | {из описаний или "не указано"} |
| Разведение | {из описаний или "не указано"} |

---

## Что нужно узнать

### 1. Базовые факты
| Параметр | Что узнать |
|----------|------------|
| Определение | Что это в 1-2 предложения |
| Назначение | Какие проблемы решает |
| По базе | водная vs силикон — плюсы/минусы |
| По форме | гель vs спрей — влияние на расход/стойкость |

### 2. Практические данные
| Параметр | Что узнать |
|----------|------------|
| Расход | диапазон + условия |
| Разведение | пропорции (если концентрат) |
| Время выдержки | минуты |
| Стойкость | дни/недели/мойки |
| Температура | рабочий диапазон °C |

### 3. Как выбрать
- По желаемому результату
- По типу поверхности
- По способу нанесения

### 4. Как применять
1. Подготовка
2. Нанесение
3. Время выдержки
4. Финиш

### 5. Типичные ошибки
| Ошибка | Последствие | Как избежать |
|--------|-------------|--------------|

### 6. Известные проблемы категории
- {специфичные проблемы}

### 7. Экспертные инсайты
- Лайфхаки от детейлеров
- Что отличает профи от новичков

### 8. Меры предосторожности
- PPE
- На чём НЕЛЬЗЯ использовать
- Хранение

---

## Требования к ответу

**Формат:** факт → цифра/диапазон → URL + цитата/таймкод

**Anti-hallucination:**
- Без источника → не писать
- Нет данных → "данные не найдены"
- Диапазон лучше точного числа
- Ассортимент = только таблица выше

**Приоритет источников:**
1. TDS/SDS производителей
2. Профессиональные гайды
3. Форумы (Autopia, Detailing World)
4. YouTube с таймкодами

**Бренды:** в ресёрче ок, в финальных выводах — нет.

**Без:** общих фраз, цен.

---

**Дата:** {YYYY-MM-DD}
```

---

## Шаблон RESEARCH_DATA.md

```markdown
# Research Data: {Название} ({slug})

## Sources
| URL | Что подтверждает | Цитата/таймкод |
|-----|------------------|----------------|

## Extracted facts
| Тезис | Цифры | Условия | Источник |
|-------|-------|---------|----------|

## Notes
- {что не удалось подтвердить}

---
**Дата:** {YYYY-MM-DD}
```

---

## Финальное сообщение

```
✅ Готово:
- RESEARCH_PROMPT.md: categories/{slug}/research/RESEARCH_PROMPT.md
- RESEARCH_DATA.md: categories/{slug}/research/RESEARCH_DATA.md

Следующий шаг:
1. Открой RESEARCH_PROMPT.md
2. Загрузи ВЕСЬ файл в Perplexity → Deep Research
3. Результаты сохрани в RESEARCH_DATA.md
```

---

## Адаптация под тип категории

Полная матрица — в [REFERENCE.md](REFERENCE.md).

| Тип | Дополнительные параметры |
|-----|-------------------------|
| Автохимия | pH, совместимость, температура |
| Защитные покрытия | стойкость, подготовка, слои |
| Инструменты | материалы, размеры, ресурс |
| Расходники | GSM, плетение, уход |
| Полировка | абразивность, обороты |

---

## Output

```
categories/{slug}/research/
├── RESEARCH_PROMPT.md   # Весь файл = промпт для Perplexity
└── RESEARCH_DATA.md     # Результаты с источниками
```

---

**Version:** 9.1 — January 2026
