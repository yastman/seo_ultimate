---
name: seo-research
description: >-
  Генерирует контекстный промпт для Perplexity Deep Research на основе семантики категории
  и обобщённых характеристик товаров. Анализирует _clean.json и PRODUCTS_LIST.md, извлекает
  типы форм/баз/эффектов, создаёт RESEARCH_PROMPT.md. Use when you see /seo-research,
  исследуй категорию, собери данные, ресёрч для категории, подготовь промпт для ресёрча.
---

# SEO Research для Ultimate.net.ua

## Quick Start

```
/seo-research {slug}
```

**Что делает Claude (~2 мин):**
1. Читает `categories/{slug}/data/{slug}_clean.json` → keywords, entities, micro_intents
2. Берёт `category_id` из `data/category_ids.json`
3. Находит товары в `data/generated/PRODUCTS_LIST.md` по `## ... (ID: {category_id})`
4. Извлекает обобщённые характеристики (формы, объёмы, базы — только то, что есть в каталоге)
5. Генерирует `categories/{slug}/research/RESEARCH_PROMPT.md`
6. Создаёт каркас `categories/{slug}/research/RESEARCH_DATA.md`

**Результат:** Промпт готов для копирования в Perplexity Deep Research.

**Критерий "готово":**
- Промпт не содержит неподтверждённых характеристик (всё из PRODUCTS_LIST)
- Perplexity-ответ с источниками (URL + цитата/таймкод) сохранён в RESEARCH_DATA.md

---

## Ключевой принцип

Пишем контент для **КАТЕГОРИИ**, не для конкретных товаров. Из описаний извлекаем обобщённые характеристики типов продуктов.

| Неправильно | Правильно |
|-------------|-----------|
| Перечислять конкретные SKU | Описывать типы продуктов |
| "Ultimate Slick Black 500 мл" | "гели для чернения" |
| Привязка к брендам | Обобщённые характеристики |
| "В категории есть X" (без проверки) | "По данным каталога: X" |

---

## Workflow

```
/seo-research {slug}
│
├─► 1. Прочитать _clean.json → keywords, entities, micro_intents
├─► 2. Найти category_id и товары в PRODUCTS_LIST.md
├─► 3. Извлечь ОБОБЩЁННЫЕ характеристики (только подтверждённые)
├─► 4. Сгенерировать RESEARCH_PROMPT.md
├─► 5. Создать каркас RESEARCH_DATA.md
└─► 6. Сообщить пользователю что промпт готов
```

---

## Шаг 1: Читаем данные категории

**Файл:** `categories/{slug}/data/{slug}_clean.json`

Извлекаем:
- `name` — название категории
- `keywords` — ключевые слова с объёмами
- `entities` — связанные сущности
- `micro_intents` — вопросы пользователей
- `parent_id` — родительская категория

---

## Шаг 2: Находим товары категории

### 2.1 Получить category_id

**Источник правды:** `data/category_ids.json`

```json
{
  "categories": {
    "aktivnaya-pena": 415,
    "cherniteli-shin": 421,
    ...
  }
}
```

### 2.2 Найти секцию в PRODUCTS_LIST.md

**Файл:** `data/generated/PRODUCTS_LIST.md`

Искать заголовок: `## ... (ID: {category_id})`

Если slug отсутствует в `category_ids.json`:
1. Поискать похожий slug
2. Или найти по UK-названию в PRODUCTS_LIST.md
3. Добавить найденный ID в `category_ids.json`

---

## Шаг 3: Извлекаем ОБОБЩЁННЫЕ характеристики

Анализируем ВСЕ описания товаров найденной секции и составляем сводку.

**ВАЖНО:** Извлекаем ТОЛЬКО то, что явно указано в описаниях товаров.

| Что извлекаем | Примеры |
|---------------|---------|
| **Формы выпуска** | гель, спрей, лосьон, паста, концентрат |
| **Объёмы** | 250мл, 500мл, 1л, 5л, 20л |
| **База** | водная, силиконовая, растворитель |
| **Эффекты** | матовый, глянцевый, сатиновый |
| **pH / тип** | кислотный, щелочной, нейтральный |
| **Пропорции** | готовый к применению, 1:5, 1:10, 1:100 |
| **Применения** | универсальные, специализированные, 2-в-1 |

**НЕ добавляем** характеристики "типичные для рынка", если их нет в наших товарах.

---

## Шаг 4: Генерируем RESEARCH_PROMPT.md

**Создаём файл:** `categories/{slug}/research/RESEARCH_PROMPT.md`

### Шаблон:

```markdown
# Research Prompt: {Название категории} ({slug})

## Контекст

- **Тип контента:** страница категории интернет-магазина автохимии
- **Категория:** {name}
- **Parent:** {parent_id}
- **Тип продуктов:** {автохимия / аксессуары / расходники}

## Ключевые слова (из семантики)

| Ключ | Объём |
|------|-------|
| {keyword} | {volume} |
...

**Entities:** {список entities}

**Вопросы пользователей:**
- {micro_intent_1}
- {micro_intent_2}
...

---

## Раздел A: Наш ассортимент (по данным каталога)

<!-- Только подтверждённые данные из PRODUCTS_LIST.md -->

| Характеристика | Что есть в каталоге |
|----------------|---------------------|
| Формы выпуска | {только из описаний} |
| Объёмы | {только из описаний} |
| База | {только из описаний или "не указано"} |
| Эффекты | {только из описаний или "не применимо"} |
| pH / тип | {только из описаний или "не указано"} |
| Разведение | {только из описаний или "не указано"} |

**Примечание:** Если характеристика не указана в описаниях товаров — пишем "не указано" или "не применимо".

---

## Раздел B: Что нужно узнать про рынок/практику

<!-- Общий ресёрч — не привязан к нашему ассортименту -->

### Промпт для Perplexity

Исследуй категорию **{Название категории} ({EN название})** для интернет-магазина автохимии.

#### Контекст задачи
Мне нужна информация для написания SEO-текста категории. Ассортимент магазина уже известен (см. выше). Нужны **общие знания о категории** для экспертного контента.

#### 1. Базовые факты
| Параметр | Что узнать |
|----------|------------|
| Определение | Что это за продукт в 1-2 предложения |
| Назначение | Какие проблемы решает |
| Классификация по базе | водная vs силикон vs растворитель — плюсы/минусы |
| Классификация по форме | гель vs спрей vs лосьон — влияние на расход/стойкость |

#### 2. Практические данные
| Параметр | Что узнать |
|----------|------------|
| Расход | **диапазон** с условиями (размер авто, метод, слои) |
| Разведение | пропорции для разных задач (если концентрат) |
| Время выдержки | минуты |
| Стойкость | дни/недели/количество моек |
| Температура | рабочий диапазон °C |

#### 3. Как выбрать
- По желаемому результату
- По типу поверхности
- По способу нанесения

#### 4. Как применять
1. Подготовка (нужно ли мыть, обезжиривать?)
2. Нанесение (чем, как, на мокрую/сухую?)
3. Время выдержки
4. Финиш (располировка, смыв)

#### 5. Типичные ошибки
| Ошибка | Последствие | Как избежать |
|--------|-------------|--------------|

#### 6. Известные проблемы категории
- {Специфичные проблемы}

#### 7. Экспертные инсайты
- Лайфхаки от детейлеров
- Что отличает профи от новичков
- Малоизвестные факты

#### 8. Меры предосторожности
- PPE (перчатки, очки)
- На чём НЕЛЬЗЯ использовать
- Хранение

---

### Требования к ответу (КРИТИЧНО)

**Anti-hallucination правила:**
1. Без URL + цитаты/таймкода → НЕ писать цифры/утверждения
2. Нет данных → так и написать "данные не найдены"
3. Диапазон лучше точного числа (если источники расходятся)
4. "На этикетке" для пропорций — не придумывать

**Формат каждого пункта:**
1. Факт/утверждение
2. Число или диапазон + от чего зависит
3. Источник (URL) + цитата или таймкод для YouTube

**Бренды:** В ресёрче можно упоминать для сравнения. В финальных выводах для текста — бренды НЕ упоминать.

**Приоритет источников:**
1. Manufacturer TDS/SDS (техническая документация)
2. Профессиональные гайды (детейлинг школы)
3. Форумы (Autopia, Detailing World) — как доп. опыт
4. YouTube обзоры — с таймкодами

**Без:** общих фраз, цен.

---

**Дата генерации:** {YYYY-MM-DD}
```

---

## Шаг 5: Создаём RESEARCH_DATA.md

**Создаём файл:** `categories/{slug}/research/RESEARCH_DATA.md`

Каркас для сохранения результатов Perplexity:

```markdown
# Research Data: {Название категории} ({slug})

## Sources (raw list)
| URL | Что подтверждает | Цитата/таймкод |
|-----|------------------|----------------|
| {URL} | {тезис} | {цитата} |

## Notes
- {неуверенные места / что нужно перепроверить}

## Extracted facts (ready for content)
| Тезис | Цифры/диапазон | Условия/допущения | Источник |
|-------|----------------|-------------------|----------|
| {факт} | {числа} | {когда применимо} | {URL} |

---

**Дата обновления:** {YYYY-MM-DD}
```

---

## Шаг 6: Сообщаем пользователю

```
✅ Готово:
- RESEARCH_PROMPT.md: categories/{slug}/research/RESEARCH_PROMPT.md
- RESEARCH_DATA.md: categories/{slug}/research/RESEARCH_DATA.md

Следующие шаги:
1. Открой RESEARCH_PROMPT.md
2. Скопируй "Раздел B: Промпт для Perplexity"
3. Вставь в Perplexity → Deep Research
4. Результаты с источниками сохрани в RESEARCH_DATA.md
```

---

## Матрица по типу категории

Полная матрица с обязательными блоками, примерами и чеклистом качества — в [REFERENCE.md](REFERENCE.md).

Типы категорий:
- **Автохимия** — pH, база, формы, пропорции, температура, совместимость
- **Защитные покрытия** — стойкость, подготовка, условия нанесения, слои
- **Инструменты** — материалы, размеры, резьба, ресурс
- **Расходники** — GSM, плетение, уход
- **Полировка** — абразивность, обороты, совместимость круг-паста

---

## Output

```
categories/{slug}/research/
├── RESEARCH_PROMPT.md   # Промпт с разделением ассортимент/рынок
└── RESEARCH_DATA.md     # Результаты с источниками (обязательно)

Status: ready for Perplexity Deep Research
```

---

**Version:** 8.0 — January 2026
