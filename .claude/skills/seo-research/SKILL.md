---
name: seo-research
description: >-
  Генерирует контекстный промпт для Perplexity Deep Research на основе семантики категории
  и обобщённых характеристик товаров. Анализирует _clean.json и PRODUCTS_LIST.md,
  извлекает типы форм/баз/эффектов, создаёт RESEARCH_PROMPT.md.
  Use when you see /seo-research, исследуй категорию, собери данные, ресёрч для категории,
  подготовь промпт для ресёрча.
---

# SEO Research для Ultimate.net.ua

## Quick Start

```
/seo-research {slug}
```

**Результат:**
- `categories/{slug}/research/RESEARCH_PROMPT.md` — загружается целиком в Perplexity
- `categories/{slug}/research/RESEARCH_DATA.md` — скелет для результатов

---

## Workflow

```
/seo-research {slug}
├─► 1. Read _clean.json → keywords, entities, micro_intents, parent_id
├─► 2. Resolve section ID via data/category_ids.json
├─► 3. Find section in PRODUCTS_LIST.md by "## ... (ID: {id})"
├─► 4. Extract product insights (формы/объёмы/эффекты из описаний)
├─► 5. Generate RESEARCH_PROMPT.md (структура ниже)
└─► 6. Create RESEARCH_DATA.md skeleton
```

---

## Источники данных

| Файл | Что берём |
|------|-----------|
| `categories/{slug}/data/{slug}_clean.json` | keywords, entities, micro_intents, parent_id |
| `data/category_ids.json` | slug → section ID в PRODUCTS_LIST.md |
| `data/generated/PRODUCTS_LIST.md` | Товары секции `## ... (ID: NNN)` |

> ⚠️ **Shared sections:** Несколько slug могут мапиться на один ID (например antimoshka + antibitum). Фильтруй товары по релевантности к текущему slug — используй название/назначение товара, не бери всё подряд.

---

## Структура RESEARCH_PROMPT.md

Генерируй файл с этими секциями (в этом порядке):

### Шапка
- `# {Название} ({slug}) — SEO Research (Buyer Guide)`
- **ТЗ:** задача + как работать с файлом (загрузить в Perplexity целиком, ответ вернуть в формате шаблона)
- **Контекст:** тип страницы, категория, parent_id, язык

### Семантика (из _clean.json)
- Таблица `| Ключ | Объём |` — все keywords
- **Entities:** список
- **Вопросы пользователей:** micro_intents

### Product Insights (из PRODUCTS_LIST.md)

> ℹ️ Инсайты из описаний — ориентир, не гарантия наличия.

| Характеристика | Из описаний |
|----------------|-------------|
| Формы выпуска | гель, спрей... |
| Объёмы | 250мл, 500мл... |
| База | водная, силиконовая (или "не указано") |
| Эффекты | матовый, глянцевый (или "не указано") |
| pH / тип | кислотный, щелочной (или "не применимо") |
| Разведение | 1:5, готовый (или "не указано") |
| Назначение | шины, пластик (или "не указано") |

**Если товары 2-в-1 или смешанного назначения:**
Добавить вопрос для исследования: "Можно ли одним составом обрабатывать X и Y? Есть ли ограничения?"

### Промпт для Perplexity (11 блоков)

1. **Что это и зачем** — определение, проблема, главное правило
2. **Виды/типы** — классификация по НЕЗАВИСИМЫМ осям (см. ниже)
3. **Как выбрать** — сценарии "если X → бери Y"
4. **Как применять** — подготовка → нанесение → сушка → финиш
5. **Критические ошибки** — ошибка | последствие | как правильно
6. **Безопасность** — PPE, ограничения, риски
6а. **Спорные утверждения** — запрос на PROOF (см. ниже)
7. **FAQ новичка** — 8-12 коротких Q→A
8. **Troubleshooting** — симптом | причина | решение
9. **Совместимость** — поверхность | можно? | условия
10. **Практические цифры** — расход, время, стойкость, температура (только с источниками)

---

## Блок 2: Правила классификации

> ⚠️ **Критично:** Не смешивать оси! Например, силикон — это активный компонент, а не тип носителя. Силикон может быть и в водной, и в растворительной базе.

### Типичные оси для автохимии/дрессингов:

**Ось 1 — Носитель (что испаряется):**
- Water-based (водная)
- Solvent-based (растворитель)

**Ось 2 — Активный компонент (что остаётся):**
- Silicone-based
- Polymer-based
- Natural oils
- (зависит от типа категории)

**Ось 3 — Финиш/эффект:**
- Matte (матовый)
- Satin (сатиновый)
- Gloss / Wet look

**Формат в промпте:**
```markdown
> ⚠️ **Важно:** [Компонент X] — это активный компонент, а не тип носителя.
> [Компонент X] может быть и в водной, и в растворительной базе. Не смешивать оси!

**Ось 1 — Носитель:**
| Тип | Описание | Плюсы | Минусы |
|-----|----------|-------|--------|

**Ось 2 — Активный компонент:**
| Тип | Описание | Плюсы | Минусы |
|-----|----------|-------|--------|

**Ось 3 — Финиш:**
| Тип | Описание | Когда выбирать |
|-----|----------|----------------|
```

См. [category-matrix.md](references/category-matrix.md) для осей по типам категорий.

---

## Блок 6а: Спорные утверждения

Для каждой категории выявить типичные "мифы" или утверждения, которые требуют проверки.

**Формат в промпте:**
```markdown
### Блок 6а: Спорные утверждения — запрос на PROOF

> ⚠️ Эти утверждения часто встречаются в контенте, но могут быть мифами.
> Нужны **только подтверждённые источники** (исследования, официальные позиции, тесты).

| Утверждение | Статус | Источник/Proof |
|-------------|--------|----------------|
| "{спорное утверждение 1}" | ? | Нужен источник |
| "{спорное утверждение 2}" | ? | Нужен источник |

**Формат ответа:** Для каждого:
- "Подтверждено" + URL + цитата
- "Опровергнуто" + URL + цитата
- "Не найдено доказательств"
```

**Как выявлять спорные утверждения:**
1. Прочитать существующий контент категории (если есть)
2. Проверить entities/micro_intents на потенциально спорные темы
3. Типичные паттерны:
   - "X вредит/разрушает Y"
   - "X безопаснее чем Y"
   - "Нельзя использовать X на Y"
   - "X влияет на Z"

---

## Требования к ответу (в промпте)

```markdown
## Требования к ответам

1. **Каждый факт = источник.** Формат: утверждение → URL → цитата.
2. **Без источника — не писать.** Нет данных → "данные не найдены".
3. **Приоритет источников:**
   - Официальные сайты производителей
   - Научные статьи / тесты с измерениями
   - Детейлинг-форумы — только для практических советов
   - YouTube-тесты с измерениями
4. **Язык источников:** английский и русский.
5. **Актуальность:** предпочтительно 2020-2025.
6. **Спорные утверждения:** блок 6а — не подтверждать без proof.
```

---

## Шаблон вывода (добавить в конец промпта)

```markdown
## Шаблон вывода

Верни ответ в следующей структуре (для прямого копирования в RESEARCH_DATA.md):

\`\`\`markdown
# Research Data: {Название} ({slug})

## Sources

| # | URL | Тип источника | Что подтверждает |
|---|-----|---------------|------------------|
| 1 | ... | производитель/форум/тест | ... |

## Блок 1: Что это и зачем

| Тезис | Источник (#) | Цитата |
|-------|--------------|--------|

## Блок 2: Виды и типы

### Ось 1 — {Название оси}
| Тип | Плюсы | Минусы | Источник (#) |

### Ось 2 — {Название оси}
| Тип | Плюсы | Минусы | Источник (#) |

### Ось 3 — {Название оси}
| Тип | Когда выбирать | Источник (#) |

## Блок 3: Как выбрать
...

## Блок 4: Как применять
...

## Блок 5: Критические ошибки
| Ошибка | Последствие | Решение | Источник (#) |

## Блок 6: Безопасность
...

## Блок 6а: Спорные утверждения
| Утверждение | Статус | Источник (#) | Цитата |

## Блок 7: FAQ
| Вопрос | Ответ | Источник (#) |

## Блок 8: Troubleshooting
| Симптом | Причина | Решение | Источник (#) |

## Блок 9: Совместимость
| Поверхность | Можно? | Условия | Источник (#) |

## Блок 10: Практические цифры
| Параметр | Значение | Условия | Источник (#) |

## Notes
- {что не удалось найти}
- {противоречивые данные}

**Дата исследования:** YYYY-MM-DD
\`\`\`
```

---

## Структура RESEARCH_DATA.md (скелет)

```markdown
# Research Data: {Название} ({slug})

## Sources

| # | URL | Тип источника | Что подтверждает |
|---|-----|---------------|------------------|
|   |     |               |                  |

## Блок 1: Что это и зачем

| Тезис | Источник (#) | Цитата |
|-------|--------------|--------|
|       |              |        |

## Блок 2: Виды и типы

### Ось 1 — {оси из category-matrix}
| Тип | Плюсы | Минусы | Источник (#) |
|-----|-------|--------|--------------|

### Ось 2 — ...
...

## Блок 3-10: ...
{аналогичные таблицы}

## Блок 6а: Спорные утверждения
| Утверждение | Статус | Источник (#) | Цитата |
|-------------|--------|--------------|--------|
|             |        |              |        |

## Notes
- {что не удалось найти}
- {противоречивые данные}

**Дата:** {YYYY-MM-DD}
```

---

## Критерий "готово"

- [ ] Product Insights содержит только явно указанное в описаниях (не домыслы)
- [ ] При shared section — отфильтрованы релевантные товары
- [ ] Блок 2 использует независимые оси классификации (не смешивать носитель/актив)
- [ ] Блок 6а содержит спорные утверждения для данной категории
- [ ] Шаблон вывода добавлен в конец промпта
- [ ] RESEARCH_PROMPT.md готов для загрузки в Perplexity целиком

---

## References

- **[category-matrix.md](references/category-matrix.md)** — оси классификации по типам категорий
- **[example-output.md](references/example-output.md)** — пример готового RESEARCH_PROMPT (для сложных случаев)

---

## Финальное сообщение

```
✅ Готово:
- RESEARCH_PROMPT.md: categories/{slug}/research/RESEARCH_PROMPT.md
- RESEARCH_DATA.md: categories/{slug}/research/RESEARCH_DATA.md

Следующий шаг:
1. Открой RESEARCH_PROMPT.md
2. Загрузи ВЕСЬ файл в Perplexity → Deep Research
3. Результаты с источниками перенеси в RESEARCH_DATA.md
```

---

**Version:** 13.0 — January 2026
