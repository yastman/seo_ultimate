# ROADMAP: План работ по SEO Ultimate.net.ua

**Дата:** 2026-01-05
**Обновлено:** 2026-01-05
**Статус:** Этап 2.1 завершён ✅ → Ручное обновление CSV

---

## Этапы (по порядку)

### Этап 0: Чистка tasks/ ✅

**ТЗ:** `archive/TZ_CLEANUP_TASKS_FOLDER.md`

-   [x] Аудит файлов
-   [x] Удалить дубли
-   [x] Объединить ТЗ
-   [x] Переместить скрипты

---

### Этап 1: Аудит кластеров ✅

**Цель:** Каждый кластер содержит ТОЛЬКО релевантные ключи

**Отчёт:** `reports/CLUSTER_AUDIT_REPORT.md`

**Действия:**

-   [x] Создать ТЗ: `TZ_CLUSTER_AUDIT.md`
-   [x] Пройти по каждому кластеру в CSV
-   [x] Выписать "мусорные" ключи
-   [x] Определить куда их перенести

---

### Этап 2: Миграция ключевых слов ✅

**Цель:** Перенести неправильно размещённые ключи в корректные кластеры

**Отчёты:**
-   `reports/KEYWORD_MIGRATION_REGISTRY.md`
-   `reports/MIGRATION_SUMMARY_REPORT.md`

**Выполнено (3 раунда):**

-   [x] **Раунд 1:** 77 ключей (~12,000 vol) — первичная миграция
-   [x] **Раунд 2:** 48 ключей (~5,890 vol) — полировальные круги, воски, кожа, защитные покрытия
-   [x] **Раунд 3:** 43 ключа (~2,970 vol) — микрофибра, аксессуары, шампуни для ручной мойки

**Итого перенесено:** ~168 ключей, ~20,860 vol

---

### Этап 2.1: Аудит L2 ↔ L3 ✅

**ТЗ:** `completed/TZ_L2_L3_AUDIT.md`

**Цель:** Проверить корректность распределения ключей между L1, L2 и L3

**Отчёт:** `reports/L2_L3_AUDIT_REPORT.md`

**Найдено проблем:** 2

**Результаты:**

-   [x] Пройти по всем L1, L2, L3 кластерам
-   [x] Найти общие ключи (без специфики L3)
-   [x] Создать отчёт с миграциями
-   [ ] Обновить CSV вручную (19 ключей L1→L2)
-   [ ] Удалить 14 дублей обезжиривателей из L2
-   [ ] Обновить STRUCTURE.md

**Найдено к миграции:**
- 19 ключей (680 vol) из L1: Мойка и Экстерьер → L2: Очистители двигателя
- 14 дублей обезжиривателей (удалить из L2: Очистители двигателя)

---

### Этап 3: Маппинг структуры ⬜

**Цель:** Связать кластеры CSV с категориями сайта (slug)

**Проблема:**
- CSV: иерархия L1 → L2 → L3 → Cluster/Filter (52 кластера)
- Сайт: категории со slug (~96 категорий)
- Нужен маппинг: какой кластер = какая категория

**Артефакт:** `data/cluster_map.json`

**Формат:**
```json
{
  "L3: Активная пена": {
    "slug": "aktivnaya-pena",
    "type": "category",
    "parent_slug": "moyka-i-eksteryer"
  },
  "Filter: Аккумуляторные": {
    "slug": null,
    "type": "filter",
    "target_slug": "polirovalnye-mashinki"
  }
}
```

**Типы:**
- `category` — отдельная страница, нужен контент
- `filter` — ключи идут в родительскую категорию
- `skip` — B2B/opt, контент не нужен

**Действия:**

-   [ ] Выгрузить категории с сайта (ID, slug, parent_id)
-   [ ] Сопоставить 52 кластера с категориями
-   [ ] Создать `data/cluster_map.json`
-   [ ] Определить: category / filter / skip

**Оценка:** ~2 часа

---

### Этап 4: Чистка синонимов ⬜

**Цель:** Создать `_clean.json` для каждой категории (убрать дубли-синонимы)

**Эталон:** `categories/aktivnaya-pena/data/aktivnaya-pena_clean.json`
- Было: 52 ключа
- Стало: 12 ключей

**Метод:** Полуавтоматический
1. Скрипт `propose_synonyms.py` → `_proposed.json`
2. Ручная проверка (~5 мин на категорию)
3. Сохранение как `_clean.json`

**Правила дедупликации:**
- авто = автомобиля = машины → оставить "авто"
- мойки = мытья → оставить "мойки"
- купить X + X купить + X цена → один commercial ключ
- НЕ редактировать текст, только выбирать какой оставить

**Структура `_clean.json`:**
```json
{
  "keywords": {
    "primary": [...],      // H1, intro
    "secondary": [...],    // H2
    "supporting": [...],   // FAQ, контекст
    "commercial": [...]    // meta_only
  },
  "usage_rules": {...},
  "stats": { "before": 52, "after": 12 }
}
```

**Действия:**

-   [ ] Создать `data/synonym_rules.json`
-   [ ] Доработать `scripts/propose_synonyms.py`
-   [ ] Batch-обработка всех категорий
-   [ ] Ручная проверка и утверждение

**Оценка:** ~4 часа (52 категории × 5 мин)

---

### Этап 5: Генерация контента ⬜

**Цель:** Сгенерировать контент для всех категорий

**Зависимость:** Только после этапа 4!

**Пайплайн:**
```
_clean.json → /generate-meta → /seo-research → /content-generator
```

**Действия:**

-   [ ] /generate-meta для всех категорий
-   [ ] /seo-research для всех категорий
-   [ ] /content-generator для всех категорий
-   [ ] Валидация контента

---

### Этап 6: UK версии ⬜

**Цель:** Украинские версии категорий

**Действия:**

-   [ ] /uk-content-init для каждой категории

---

### Этап 7: Деплой ⬜

**Цель:** Залить на сайт

**Действия:**

-   [ ] /quality-gate для всех
-   [ ] /deploy-to-opencart для всех

---

## Приоритеты

```
Этап 0 (чистка tasks/) ✅
    ↓
Этап 1 (аудит кластеров) ✅
    ↓
Этап 2 (миграция ключей) ✅
    ↓
Этап 2.1 (аудит L2↔L3) ← ТЕКУЩИЙ
    ↓
Этап 3 (маппинг структуры) (~2ч)
    ↓
Этап 4 (чистка синонимов) (~4ч)
    ↓
Этап 5-7 (контент, UK, деплой)
```

---

## Текущий фокус

**Сейчас:** Этап 2.1 — аудит распределения L2 ↔ L3
**Следующий:** Этап 3 — маппинг структуры

**Выполнено:**

-   ✅ Этап 0 — чистка tasks/
-   ✅ Этап 1 — аудит кластеров
-   ✅ Этап 2 — миграция ключевых слов (3 раунда, 168 ключей)

---

## Архитектура данных

```
data/
├── cluster_map.json         # Маппинг: кластер → slug
├── synonym_rules.json       # Правила дедупликации
└── generated/STRUCTURE.md   # Визуализация иерархии

categories/{slug}/
├── data/
│   ├── {slug}.json           # RAW (все ключи из CSV)
│   ├── {slug}_proposed.json  # Автопредложения
│   └── {slug}_clean.json     # Финальный для контента
├── meta/{slug}_meta.json
├── content/{slug}_ru.md
└── research/RESEARCH_DATA.md
```

**Source of Truth:**
- Структура категорий: `Структура _Ultimate.csv`
- Маппинг: `data/cluster_map.json`
- Ключи для контента: `{slug}_clean.json`
