# GEMINI Instructions

## 1. üö® STRICT RULES (CRITICAL)

1. **COMMIT OFTEN & IMMEDIATELY**:

    - –î–µ–ª–∞–π –∫–æ–º–º–∏—Ç **—Å—Ä–∞–∑—É** –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–∞. –ù–µ –∂–¥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ–π –∑–∞–¥–∞—á–∏.
    - –§–æ—Ä–º–∞—Ç: `type: description` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `feat: add meta for category X`, `fix: correct title description`, `docs: update status`).
    - **–ê—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å**: –û–¥–∏–Ω –ª–æ–≥–∏—á–µ—Å–∫–∏–π —à–∞–≥ = –æ–¥–∏–Ω –∫–æ–º–º–∏—Ç.

2. **BRANCH POLICY**:

    - **–í—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–π –≤ –≤–µ—Ç–∫–µ `develop`**.
    - –ù–µ –ø—É—à—å –Ω–∞–ø—Ä—è–º—É—é –≤ `main` (—Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Merge Request, –µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ, –∏–Ω–∞—á–µ —Ä–∞–±–æ—Ç–∞–π –≤ `develop`).
    - –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Å—Å–∏–∏ –ø—Ä–æ–≤–µ—Ä—å: `git checkout develop`.

3. **LANGUAGE**:

    - –í—Å—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è –∏ –º—ã—Å–ª–∏ ‚Äî **–Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ**.
    - –ö–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è —Å–∞–π—Ç–∞ ‚Äî **–Ω–∞ —É–∫—Ä–∞–∏–Ω—Å–∫–æ–º –∏–ª–∏ —Ä—É—Å—Å–∫–æ–º** (—Å–æ–≥–ª–∞—Å–Ω–æ –∑–∞–¥–∞—á–µ).

4. **SOURCE OF TRUTH**:

    - **Semantics**: `–°—Ç—Ä—É–∫—Ç—É—Ä–∞ _Ultimate.csv`. JSON —Ñ–∞–π–ª—ã –≤—Ç–æ—Ä–∏—á–Ω—ã.
    - **SEO Rules**: `docs/CONTENT_GUIDE.md`.
    - **Workflow**: `docs/WORKFLOW_SEMANTICS.md` –∏ `docs/README.md`.
    - **Status**: `tasks/PIPELINE_STATUS.md`.

5. **RUN LINTERS**:
    - –ü–æ—Å–∫–æ–ª—å–∫—É Antigravity —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã –Ω–∞–ø—Ä—è–º—É—é (–º–∏–Ω—É—è VS Code), **–∑–∞–ø—É—Å–∫–∞–π –ª–∏–Ω—Ç–µ—Ä—ã –≤—Ä—É—á–Ω—É—é** –ø–æ—Å–ª–µ –∑–Ω–∞—á–∏–º—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.
    - –ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º: `pre-commit run --all-files`.
    - –î–ª—è –±—ã—Å—Ç—Ä—ã—Ö –ø—Ä–∞–≤–æ–∫: `ruff check . --fix` (Python) –∏–ª–∏ `markdownlint "**/*.md" --fix` (MD).
    - **Goal**: –ö–æ–¥ –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Å—Ç—ã–º –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º.

## 2. üß© Coding Principles (Best Practices)

–ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –∏–ª–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–π—Å—è —ç—Ç–∏—Ö –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤:

### üîπ DRY (Don't Repeat Yourself)

-   –ù–µ –¥—É–±–ª–∏—Ä—É–π –ª–æ–≥–∏–∫—É –≤ —Ä–∞–∑–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–∞—Ö.
-   –ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –Ω—É–∂–Ω–∞ –≤ –¥–≤—É—Ö –º–µ—Å—Ç–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è URL), –≤—ã–Ω–µ—Å–∏ –µ—ë –≤ `scripts/seo_utils.py` –∏–ª–∏ –æ–±—â–∏–π –º–æ–¥—É–ª—å.
-   **–ü—Ä–∏–º–µ—Ä**: –ò—Å–ø–æ–ª—å–∑—É–π `seo_utils.load_json` –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–∏—Å–∞—Ç—å `with open(...)` –∫–∞–∂–¥—ã–π —Ä–∞–∑.

### üîπ KISS (Keep It Simple, Stupid)

-   –°–∞–º–æ–µ –ø—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ ‚Äî –æ–±—ã—á–Ω–æ –ª—É—á—à–µ–µ.
-   –ò–∑–±–µ–≥–∞–π —Å–ª–æ–∂–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ —Ç–∞–º, –≥–¥–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ñ—É–Ω–∫—Ü–∏–∏.
-   –ö–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Ç–∞–µ–º—ã–º –¥–ª—è —á–µ–ª–æ–≤–µ–∫–∞, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –º–∞—à–∏–Ω—ã.

### üîπ YAGNI (You Aren't Gonna Need It)

-   –ù–µ –ø–∏—à–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª "–Ω–∞ –±—É–¥—É—â–µ–µ".
-   –†–µ–∞–ª–∏–∑—É–π —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è —Ç–µ–∫—É—â–µ–π –∑–∞–¥–∞—á–∏ pipeline.
-   –ù–µ –¥–æ–±–∞–≤–ª—è–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–µ–π—á–∞—Å –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è.

### üîπ Boy Scout Rule

-   "–û—Å—Ç–∞–≤—å –º–µ—Å—Ç–æ —Å—Ç–æ—è–Ω–∫–∏ —á–∏—â–µ, —á–µ–º –æ–Ω–æ –±—ã–ª–æ –¥–æ —Ç–µ–±—è".
-   –ï—Å–ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—à—å —Ñ–∞–π–ª, –∏—Å–ø—Ä–∞–≤—å –æ—á–µ–≤–∏–¥–Ω—ã–µ –º–µ–ª–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã (—Ç–∞–π–ø-—Ö–∏–Ω—Ç—ã, docstrings, –æ—Ç—Å—Ç—É–ø—ã).

### üîπ Reuse & Modify over Create (–≠–∫–æ–ª–æ–≥–∏—è –ü—Ä–æ–µ–∫—Ç–∞)

-   **–ù–µ –ø–ª–æ–¥–∏ –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã**. –í –ø—Ä–æ–µ–∫—Ç–µ —É–∂–µ 60+ —Å–∫—Ä–∏–ø—Ç–æ–≤ (–ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ ~36).
-   –ü—Ä–µ–∂–¥–µ —á–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å `new_tool.py`, –ø—Ä–æ–≤–µ—Ä—å, –Ω–µ–ª—å–∑—è –ª–∏ —É–ª—É—á—à–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å–∫—Ä–∏–ø—Ç (–¥–æ–±–∞–≤–∏—Ç—å —Ñ–ª–∞–≥, —Ñ—É–Ω–∫—Ü–∏—é, —Ä–µ–∂–∏–º).
-   –ü—Ä–µ–∂–¥–µ —á–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å `NEW_DOC.md`, –ø–æ—Å–º–æ—Ç—Ä–∏, –Ω–µ –ª–æ–≥–∏—á–Ω–µ–µ –ª–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –≥–∞–π–¥.
-   **–¶–µ–ª—å**: –ú–∏–Ω–∏–º—É–º —Ñ–∞–π–ª–æ–≤, –º–∞–∫—Å–∏–º—É–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.

## 3. üõ†Ô∏è Environment & Scripts

**Python**: –ò—Å–ø–æ–ª—å–∑—É–π `.venv`. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ, –∞–∫—Ç–∏–≤–∏—Ä—É–π –∏–ª–∏ —É–∫–∞–∑—ã–≤–∞–π –ø—É—Ç—å –∫ python –∏–∑ venv.
–í Windows –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π –∫–æ–º–∞–Ω–¥—É `python` –∏–ª–∏ `python3` —è–≤–Ω–æ.

### ‚ö° Quick Script Reference

–ó–∞–ø–æ–º–Ω–∏ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –Ω–∞–∏–∑—É—Å—Ç—å. –ò—Å–ø–æ–ª—å–∑—É–π –∏—Ö –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–≤–æ–µ–π —Ä–∞–±–æ—Ç—ã.

| –ó–∞–¥–∞—á–∞                | –°–∫—Ä–∏–ø—Ç                  | –ü—Ä–∏–º–µ—Ä –≤—ã–∑–æ–≤–∞                                                                                      |
| --------------------- | ----------------------- | -------------------------------------------------------------------------------------------------- |
| **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ (Audit)** | `csv_to_readable_md.py` | `python scripts/csv_to_readable_md.py`                                                             |
| **–ß–∏—Å—Ç–∫–∞ CSV**        | `fix_csv_structure.py`  | `python scripts/fix_csv_structure.py`                                                              |
| **–í–∞–ª–∏–¥–∞—Ü–∏—è Meta**    | `validate_meta.py`      | `python scripts/validate_meta.py categories/{slug}/meta/{slug}_meta.json`                          |
| **–í–∞–ª–∏–¥–∞—Ü–∏—è Content** | `validate_content.py`   | `python scripts/validate_content.py categories/{slug}/content/{slug}_ru.md "{keyword}" --mode seo` |
| **–ê–Ω–∞–ª–∏–∑ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏**  | `analyze_category.py`   | `python scripts/analyze_category.py {slug}`                                                        |
| **HTML –ü—Ä–µ–≤—å—é**       | `md_to_html.py`         | `python scripts/md_to_html.py categories/{slug}/content/{slug}_ru.md`                              |
| **–ó–∞–≥—Ä—É–∑–∫–∞ –≤ –ë–î**     | `upload_to_db.py`       | `python scripts/upload_to_db.py {slug}` (–¢—Ä–µ–±—É–µ—Ç PASS –≤–∞–ª–∏–¥–∞—Ü–∏–∏)                                   |
| **–°–∏–Ω–æ–Ω–∏–º—ã**          | `synonym_tools.py`      | `python scripts/synonym_tools.py report` (–ê–Ω–∞–ª–∏–∑ –¥—É–±–ª–µ–π —Å–∏–Ω–æ–Ω–∏–º–æ–≤)                                 |
| **–¢–æ–≤–∞—Ä—ã**            | `products.py`           | `python scripts/products.py list --desc` (–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ SQL)                                   |

## 4. üîÑ Workflow (Skills)

–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å–∏—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å —ç—Ç–∞–ø –ø–∞–π–ø–ª–∞–π–Ω–∞, –≤—ã–ø–æ–ª–Ω—è–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:

### üîπ `/semantic-update` (–ù–æ–≤–∞—è –°–µ–º–∞–Ω—Ç–∏–∫–∞)

1. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–Ω–µ—Å–µ–Ω—ã –≤ `–°—Ç—Ä—É–∫—Ç—É—Ä–∞ _Ultimate.csv`.
2. –ó–∞–ø—É—Å—Ç–∏ —á–∏—Å—Ç–∫—É: `python scripts/fix_csv_structure.py`.
3. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π –æ—Ç—á–µ—Ç: `python scripts/csv_to_readable_md.py`.
4. –ü—Ä–æ–≤–µ—Ä—å `data/generated/STRUCTURE.md` –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ (Orphans).
5. **COMMIT**.

### üîπ `/category-init {slug}`

1. –ü—Ä–æ–≤–µ—Ä—å, –µ—Å—Ç—å –ª–∏ –ø–∞–ø–∫–∞ `categories/{slug}`.
2. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî —Å–æ–∑–¥–∞–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É: `data/`, `meta/`, `content/`, `research/`.
3. –°–æ–∑–¥–∞–π `_clean.json` (–ü–û–ö–ê —Ä—É—á–Ω–æ–π –ø–µ—Ä–µ–Ω–æ—Å, —Å–∫–æ—Ä–æ ‚Äî –∞–≤—Ç–æ –∏–∑ CSV).
4. **COMMIT**.

### üîπ `/generate-meta {slug}`

1. –ß–∏—Ç–∞–π—Ç–µ `_clean.json`.
2. –ì–µ–Ω–µ—Ä–∏—Ä—É–π Title/Description/H1 —Å–æ–≥–ª–∞—Å–Ω–æ `docs/CONTENT_GUIDE.md`.
    - _Title_: 50-60 chars, "–ö—É–ø–∏—Ç—å", –ë—Ä–µ–Ω–¥ –≤ –∫–æ–Ω—Ü–µ.
    - _Description_: 120-160 chars, –±–µ–∑ —Å–º–∞–π–ª–æ–≤, –∫–æ–º–º–µ—Ä—Ü–∏—è.
    - _H1_: –ë–µ–∑ "–ö—É–ø–∏—Ç—å", –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç Title.
3. –°–æ—Ö—Ä–∞–Ω–∏ –≤ `meta/{slug}_meta.json`.
4. **VALIDATE**: –ó–∞–ø—É—Å—Ç–∏ `validate_meta.py`.
5. **COMMIT**.

### üîπ `/seo-research {slug}`

1. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ (–∏–∑ –≥–æ–ª–æ–≤—ã –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—è `search_web` –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ).
2. –ó–∞–ø–æ–ª–Ω–∏ `research/RESEARCH_DATA.md`:
    - Intro intent, User problems, FAQ candidates, Semantic core priorities.
3. **COMMIT**.

### üîπ `/content-generator {slug}`

1. –ò—Å–ø–æ–ª—å–∑—É–π –¥–∞–Ω–Ω—ã–µ –∏–∑ Research –∏ Meta.
2. –ü–∏—à–∏ –∫–æ–Ω—Ç–µ–Ω—Ç –≤ `content/{slug}_ru.md`.
    - _Intro_: 30-60 —Å–ª–æ–≤.
    - _Tables_: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ.
    - _Structure_: Intro -> How to choose -> How to use -> Errors -> FAQ.
3. **VALIDATE**: –ó–∞–ø—É—Å—Ç–∏ `validate_content.py`.
4. **COMMIT**.

## 5. üìÇ Project Structure Map

-   `tasks/PIPELINE_STATUS.md` ‚Äî **–ß–ò–¢–ê–ô –í –ü–ï–†–í–£–Æ –û–ß–ï–†–ï–î–¨**. –û—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á.
-   `tasks/active/` ‚Äî –ê–∫—Ç–∏–≤–Ω—ã–µ –¢–ó –∏ –ø–ª–∞–Ω—ã.
-   `tasks/categories/{slug}.md` ‚Äî –ß–µ–∫–ª–∏—Å—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏. –û—Ç–º–µ—á–∞–π `[x]` –ø–æ —Ö–æ–¥—É.
-   `docs/CONTENT_GUIDE.md` ‚Äî –ë–∏–±–ª–∏—è SEO. –ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª = –ø—Ä–æ–≤–∞–ª.
-   `scripts/` ‚Äî –ù–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤. –ù–µ –ø–∏—à–∏ —Å–≤–æ–∏ –≤–µ–ª–æ—Å–∏–ø–µ–¥—ã, –∏—â–∏ –≥–æ—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç.
-   `CLAUDE.md` ‚Äî –°—Ç–∞—Ä—à–∏–π –±—Ä–∞—Ç. –¢–∞–º –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞.

## 6. ‚ö†Ô∏è Common Pitfalls (–ù–µ –¥–µ–ª–∞–π —ç—Ç–æ–≥–æ)

-   –ù–µ –º–µ–Ω—è–π —Å—Ç–∞—Ç—É—Å —Å—Ç–∞—Ç—É—Å–∞ –≤ `PIPELINE_STATUS.md` –Ω–∞ ‚úÖ, –ø–æ–∫–∞ –Ω–µ –ø—Ä–æ—à–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å–∫—Ä–∏–ø—Ç–æ–º.
-   –ù–µ –∑–∞–±—ã–≤–∞–π `python` –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Å–∫—Ä–∏–ø—Ç–æ–≤ (Windows environment).
-   –ù–µ –ø–∏—à–∏ H1 "–ö—É–ø–∏—Ç—å {—Ç–æ–≤–∞—Ä}". –ß–∏—Ç–∞—Ç–µ–ª—å —É–∂–µ –Ω–∞ —Å–∞–π—Ç–µ, –µ–º—É –Ω–µ –Ω–∞–¥–æ –ø—Ä–æ–¥–∞–≤–∞—Ç—å –∫–ª–∏–∫.
