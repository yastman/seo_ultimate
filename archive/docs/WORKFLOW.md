# ğŸ“Š WORKFLOW DIAGRAM â€” Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ğ°Ñ ÑÑ…ĞµĞ¼Ğ° Ğ¿Ğ°Ğ¹Ğ¿Ğ»Ğ°Ğ¹Ğ½Ğ°

**ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ğ²ÑĞµÑ… stages, Ğ°Ğ³ĞµĞ½Ñ‚Ğ¾Ğ² Ğ¸ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ²**

---

## ğŸ¯ MAIN WORKFLOW (OPTIMIZED V2.0)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ğŸš€ START: NEW CATEGORY                     â”‚
â”‚                    ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°: "{slug} Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¹ workflow"            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚   ğŸ“ STAGE 0: Init             â”‚
          â”‚   category-init-agent          â”‚
          â”‚   âœ… Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ‚Ğ¾Ñ€: ĞĞµÑ‚            â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµÑ‚: categories/{slug}/
                          â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚   ğŸ“ STAGE -3: URL Extract     â”‚
          â”‚   url-extraction-agent         â”‚
          â”‚   ğŸ“ Ğ˜Ğ·: data/input/SERP.csv   â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚: urls_raw.txt (â‰¥8)
                          â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  âœ… Validator: stage-minus-3-url-           â”‚
    â”‚     extraction-validator                   â”‚
    â”‚  Check: â‰¥8 URLs, â‰¥6 domains, HTTPS        â”‚
    â”‚  Status: PASS âœ… â†’ Continue                 â”‚
    â”‚  Status: FAIL âŒ â†’ STOP                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚   ğŸ“ STAGE -2: URL Filter      â”‚
          â”‚   url-preparation-agent        â”‚
          â”‚   Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€ Ğº ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸ÑĞ¼         â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚: urls.txt (â‰¥5)
                          â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  âœ… Validator: stage-minus-2-url-          â”‚
    â”‚     validator                             â”‚
    â”‚  Check: â‰¥5 URLs, zero /ua/, HTTPS, 200 OK â”‚
    â”‚  Status: PASS âœ… â†’ PAUSE                    â”‚
    â”‚  Status: FAIL âŒ â†’ STOP                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚   ğŸ›‘ PAUSE (AUTO) â€” MANUAL STAGE 3 â”‚
          â”‚   Ğ–Ğ´ĞµĞ¼ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ              â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ MANUAL WORK (5 min)                â”‚
        â”‚                                   â”‚
    â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
    â”‚ Screaming   â”‚               â”‚Perplexity â”‚
    â”‚ Frog        â”‚               â”‚AI         â”‚
    â”‚ â†’CSV export â”‚               â”‚â†’ Ğ¢Ğ— .md  â”‚
    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
        â”‚                            â”‚
        â”‚  ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°: "Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ñ‹, Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ°Ğ¹ Ğ´Ğ»Ñ {slug}"
        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚   ğŸ“ STAGE 4: Data Prep        â”‚
          â”‚   data-preparation-agent       â”‚
          â”‚   Keywords + tier JSON         â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚: data/{slug}.json
                          â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  âœ… Validator: stage-4-data-validator      â”‚
    â”‚  Check: Valid JSON, tier A/B/C, â‰¥10 kw    â”‚
    â”‚  Status: PASS âœ… â†’ Continue                 â”‚
    â”‚  Status: FAIL âŒ â†’ STOP                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚   ğŸ“ STAGE 6: Keyword Distrib  â”‚
          â”‚   keyword-distribution-agent   â”‚
          â”‚   Distribution map + Brief     â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚: *_keywords_distributed.json
                          â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  âœ… Validator: stage-5-6-analysis-         â”‚
    â”‚     validator                             â”‚
    â”‚  Check: Coverageâ‰¥70%, densityâ‰¤2%, sem.ent â”‚
    â”‚  Status: PASS âœ… â†’ Continue                 â”‚
    â”‚  Status: FAIL âŒ â†’ STOP                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚   ğŸ“ STAGE 8: Content Gen (RU) â”‚
          â”‚   content-generation-agent     â”‚
          â”‚   4000â€“5000 chars, â‰¥70% cov    â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚: {slug}_ru.md
                          â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  âœ… Validator: stage-8-11-content-         â”‚
    â”‚     validator                             â”‚
    â”‚  Check: Length 4000â€“5000, coverageâ‰¥70%    â”‚
    â”‚  Status: PASS âœ… â†’ Continue                 â”‚
    â”‚  Status: FAIL âš ï¸ â†’ WARN + Continue          â”‚
    â”‚  Status: FAIL âŒ â†’ STOP                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚   ğŸ“ STAGE 9: Translate (UA)   â”‚
          â”‚   ukrainian-translator         â”‚
          â”‚   Â±5% from RU, natural ukr.    â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚: {slug}_uk.md
                          â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  âœ… Validator: stage-8-11-content-         â”‚
    â”‚     validator                             â”‚
    â”‚  Check: Valid HTML, Â±5% length, natural   â”‚
    â”‚  Status: PASS âœ… â†’ Continue                 â”‚
    â”‚  Status: FAIL âš ï¸ â†’ WARN + Continue          â”‚
    â”‚  Status: FAIL âŒ â†’ STOP                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚   ğŸ“ STAGE 10: Meta Tags       â”‚
          â”‚   meta-tags-generator          â”‚
          â”‚   Title + Description          â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚: {slug}_meta.json
                          â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  âœ… Validator: stage-8-11-content-         â”‚
    â”‚     validator                             â”‚
    â”‚  Check: Title 50â€“70, Desc 140â€“170 chars   â”‚
    â”‚  Status: PASS âœ… â†’ Continue                 â”‚
    â”‚  Status: FAIL âŒ â†’ STOP                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚   ğŸ“ STAGE 11: Package          â”‚
          â”‚   packaging-agent              â”‚
          â”‚   5 final files + README        â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚: deliverables/
                          â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  âœ… Validator: stage-8-11-content-         â”‚
    â”‚     validator                             â”‚
    â”‚  Check: 5 files present, README ok,       â”‚
    â”‚         QUALITY_REPORT.md complete        â”‚
    â”‚  Status: PASS âœ… â†’ SUCCESS                  â”‚
    â”‚  Status: FAIL âŒ â†’ STOP                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚   âœ… SUCCESS: READY TO PUBLISH â”‚
          â”‚   categories/{slug}/deliverablesâ”‚
          â”‚   - {slug}_ru.md               â”‚
          â”‚   - {slug}_uk.md               â”‚
          â”‚   - {slug}_meta.json           â”‚
          â”‚   - README.md                  â”‚
          â”‚   - QUALITY_REPORT.md          â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ COMPONENT INTERACTION DIAGRAM

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     INPUT DATA                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ data/input/                                                 â”‚ â”‚
â”‚  â”‚ â”œâ”€ Ğ¿Ğ¾Ğ¸ÑĞºĞ¾Ğ²Ğ°Ñ_Ğ²Ñ‹Ğ´Ğ°Ñ‡Ğ°_Ñ‚Ğ¾Ğ¿_10.csv (SERP top-10)              â”‚ â”‚
â”‚  â”‚ â””â”€ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ultimate Ñ„Ğ¸Ğ½Ğ°Ğ».csv (ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°)      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚              â”‚              â”‚
        â–¼              â–¼              â–¼
    STAGE -3       STAGE -2       MANUAL 3
    url-ext...    url-prep...   Screaming Frog
        â”‚              â”‚        + Perplexity
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ categories/{slug}/      â”‚
         â”‚ â”œâ”€ urls_raw.txt         â”‚
         â”‚ â”œâ”€ urls.txt             â”‚
         â”‚ â”œâ”€ competitors/         â”‚
         â”‚ â”‚  â””â”€ meta_competitors  â”‚
         â”‚ â””â”€ research/            â”‚
         â”‚    â””â”€ perplexity_*.md   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚             â”‚             â”‚
        â–¼             â–¼             â–¼
    STAGE 4       STAGE 6       (Process)
    data-prep  keyword-dist   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚           â”‚         â”‚ scripts: â”‚
        â”‚           â”‚         â”‚ - SEO    â”‚
        â”‚           â”‚         â”‚ - QA     â”‚
        â”‚           â”‚         â”‚ - Util   â”‚
        â”‚           â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ data/{slug}.json         â”‚
    â”‚ data/{slug}_keywords_*   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚             â”‚            â”‚            â”‚
    â–¼             â–¼            â–¼            â–¼
 STAGE 8      STAGE 9      STAGE 10     Tools
content-gen  translator   meta-tags   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
(RU)         (UA)         (JSON)      â”‚ LTEX-LS  â”‚
    â”‚             â”‚            â”‚     â”‚ Natasha  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â†’ â”‚ spaCy    â”‚
                                     â”‚ TextDesc â”‚
                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ content/{slug}_*.md      â”‚
    â”‚ meta/{slug}_meta.json    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
       STAGE 11
     packaging-agent
            â”‚
            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ğŸ‰ DELIVERABLES         â”‚
    â”‚ deliverables/           â”‚
    â”‚ â”œâ”€ {slug}_ru.md         â”‚
    â”‚ â”œâ”€ {slug}_uk.md         â”‚
    â”‚ â”œâ”€ {slug}_meta.json     â”‚
    â”‚ â”œâ”€ README.md            â”‚
    â”‚ â””â”€ QUALITY_REPORT.md    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¤– AGENTS & VALIDATORS MATRIX

| Stage | Agent | Validator | Input | Output | Status |
|-------|-------|-----------|-------|--------|--------|
| 0 | `category-init` | âŒ No | - | task.json | âœ… |
| -3 | `url-extraction` | `stage-minus-3-url-extraction` | SERP CSV | urls_raw.txt | âœ… |
| -2 | `url-preparation` | `stage-minus-2-url` | urls_raw.txt | urls.txt | âœ… |
| **3** | **MANUAL** (Screaming Frog + Perplexity) | ğŸ›‘ PAUSE | urls.txt | meta_competitors.csv, perplexity_research.md | â¸ï¸ |
| 4 | `data-preparation` | `stage-4-data` | meta_competitors.csv | {slug}.json | âœ… |
| 6 | `keyword-distribution` | `stage-5-6-analysis` | {slug}.json | *_keywords_distributed.json | âœ… |
| 8 | `content-generation` | `stage-8-11-content` (4x) | perplexity_research.md | {slug}_ru.md | âœ… |
| 9 | `ukrainian-translator` | `stage-8-11-content` (4x) | {slug}_ru.md | {slug}_uk.md | âœ… |
| 10 | `meta-tags-generator` | `stage-8-11-content` (4x) | {slug}_ru.md | {slug}_meta.json | âœ… |
| 11 | `packaging-agent` | `stage-8-11-content` (4x) | Ğ²ÑĞµ Ñ„Ğ°Ğ¹Ğ»Ñ‹ | deliverables/ | âœ… |

---

## ğŸ”€ DATA FLOW STAGES

### Stage -3 â†’ -2 (URL Processing)

```
SERP CSV (top-10)
    â†“
url-extraction-agent
    â†“ Ğ˜Ğ·Ğ²Ğ»ĞµÑ‡ĞµĞ½Ğ¸Ğµ URLs Ğ¸Ğ· "keyword" ÑÑ‚Ğ¾Ğ»Ğ±Ñ†Ğ°
    â†“
urls_raw.txt (â‰¥8 URLs)
    â†“ Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ‚Ğ¾Ñ€
    â†“
url-preparation-agent
    â†“ Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€ Ğº ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸ÑĞ¼, Ğ´ĞµĞ´ÑƒÌĞ¿, HTTPS check
    â†“
urls.txt (â‰¥5 URLs, ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ-specific)
    â†“ Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ‚Ğ¾Ñ€ (PAUSE ĞµÑĞ»Ğ¸ OK)
```

### Stage 3 (Manual Research)

```
urls.txt
    â†“
Screaming Frog (SEO tool)
    â†“ Export: URL, Title, H1, Meta Desc
    â†“
meta_competitors.csv
    â†“
Perplexity.ai (AI research)
    â†“ Ğ¢Ğ—: H2 blocks, FAQ, key themes
    â†“
perplexity_research.md
```

### Stage 4 â†’ 6 (Data Processing)

```
meta_competitors.csv + perplexity_research.md
    â†“
data-preparation-agent
    â†“ Extract keywords from CSV
    â†“
{slug}.json (keywords + tier)
    â†“
keyword-distribution-agent
    â†“ Map keywords by H1/H2/FAQ roles
    â†“
{slug}_keywords_distributed.json
    â†“
(Quality metrics: coverage, density)
```

### Stage 8 â†’ 11 (Content Generation)

```
perplexity_research.md + {slug}_keywords_distributed.json
    â†“
content-generation-agent
    â†“ Generate 4000â€“5000 chars, â‰¥70% coverage
    â†“
{slug}_ru.md
    â†“
ukrainian-translator
    â†“ Translate Â±5% length, natural Ukrainian
    â†“
{slug}_uk.md
    â†“
meta-tags-generator
    â†“ Generate Meta Title (50â€“70) + Description (140â€“170)
    â†“
{slug}_meta.json
    â†“
packaging-agent
    â†“ Combine all files + README + QUALITY_REPORT
    â†“
deliverables/ (5 files ready)
```

---

## ğŸ“ VALIDATOR DECISION TREE

```
â”Œâ”€ Validator Result
â”‚
â”œâ”€ PASS âœ…
â”‚  â””â”€ Continue to next stage
â”‚
â”œâ”€ WARNING âš ï¸
â”‚  â”œâ”€ Log: Issue description
â”‚  â””â”€ Continue (with notification)
â”‚
â””â”€ FAIL âŒ
   â”œâ”€ Log: Critical error
   â”œâ”€ Orchestrator: STOP workflow
   â””â”€ User: Review error + retry
```

---

## ğŸ› ï¸ UTILITIES & HELPERS

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         SUPPORTING SCRIPTS              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ check_simple_v2_md.py                   â”‚
â”‚  â†’ Keyword density validator (CLI)      â”‚
â”‚                                          â”‚
â”‚ check_water_natasha.py                  â”‚
â”‚  â†’ Water + nausea check (Adwords)      â”‚
â”‚                                          â”‚
â”‚ quality_runner.py                       â”‚
â”‚  â†’ Stage 8.1 quality orchestrator       â”‚
â”‚                                          â”‚
â”‚ show_keyword_distribution.py             â”‚
â”‚  â†’ Stats from *_distributed.json        â”‚
â”‚                                          â”‚
â”‚ validate_category.sh                    â”‚
â”‚  â†’ Full category validation             â”‚
â”‚                                          â”‚
â”‚ quality_check_stage_8_1.sh               â”‚
â”‚  â†’ Grammar + readability check          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‚ FILE LOCATION DIAGRAM

```
categories/{slug}/
â”‚
â”œâ”€ .logs/  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”œâ”€ url-extraction-*.log    â”‚
â”‚  â”œâ”€ content-generation-*.log â”‚ Ğ’ÑĞµ Ğ»Ğ¾Ğ³Ğ¸ Ğ°Ğ³ĞµĞ½Ñ‚Ğ¾Ğ²
â”‚  â”œâ”€ stage-8-11-*.log        â”‚ Ğ¸ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ²
â”‚  â””â”€ ...                      â”‚
â”‚                               â”œâ”€â†’ Ğ”Ğ»Ñ Ğ¾Ñ‚Ğ»Ğ°Ğ´ĞºĞ¸
â”œâ”€ urls_raw.txt  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  ĞŸĞ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ¸Ñ‚Ğµ,
â”œâ”€ urls.txt  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  Ñ‡Ñ‚Ğ¾ Ğ¿Ğ¾ÑˆĞ»Ğ¾
â”‚                              â”‚  Ğ½Ğµ Ñ‚Ğ°Ğº
â”œâ”€ competitors/  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â””â”€ meta_competitors.csv     â”‚
â”‚                              â”‚
â”œâ”€ research/  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â””â”€ perplexity_research.md   â”‚
â”‚                              â”‚
â”œâ”€ data/  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  â”œâ”€ {slug}.json
â”‚  â””â”€ {slug}_keywords_distributed.json
â”‚
â”œâ”€ content/
â”‚  â”œâ”€ {slug}_ru.md
â”‚  â””â”€ {slug}_uk.md
â”‚
â”œâ”€ meta/
â”‚  â””â”€ {slug}_meta.json
â”‚
â””â”€ deliverables/  â—„â”€â”€ FINAL OUTPUT
   â”œâ”€ {slug}_ru.md
   â”œâ”€ {slug}_uk.md
   â”œâ”€ {slug}_meta.json
   â”œâ”€ README.md
   â””â”€ QUALITY_REPORT.md
```

---

## ğŸ”— Stage Dependencies

```
Dependency Map:

Stage 0 (init)
    â†“ (creates structure)
    â”œâ†’ Stage -3 (url-extraction)
          â†“ (â‰¥8 URLs)
          â””â†’ Stage -2 (url-preparation)
               â†“ (â‰¥5 URLs) [PAUSE]
                         â†“
                    Manual Stage 3
                    â†“ (2 files)
                    â”œâ†’ Stage 4 (data-prep)
                    â”‚    â†“
                    â”‚    â””â†’ Stage 6 (keyword-distribution)
                    â”‚         â†“
                    â”‚         â””â†’ Stage 8 (content-gen)
                    â”‚              â†“
                    â”‚              â””â†’ Stage 9 (translator)
                    â”‚                   â†“
                    â”‚                   â””â†’ Stage 10 (meta-tags)
                    â”‚                        â†“
                    â”‚                        â””â†’ Stage 11 (packaging)
                    â”‚                             â†“
                    â”‚                         âœ… COMPLETE
```

---

## ğŸ“Š Quality Check Pipeline (Stage 8.1)

```
Input: {slug}_ru.md
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LTEX-LS (Grammar + Spelling)        â”‚ â† GitHub: valentjn/ltex-ls
â”‚ Check: Russian grammar, typos       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Natasha (Water + Nausea)            â”‚ â† GitHub: natasha/natasha
â”‚ Check: Adwords formulas, stopwords  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ check_simple_v2_md.py (Keywords)    â”‚ â† Custom script
â”‚ Check: Coverage â‰¥70%, density â‰¤2%   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ markdownlint (Structure)            â”‚ â† GitHub: igorshubovych/markdownlint
â”‚ Check: Markdown syntax, H1/H2/FAQ   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
Output: quality_report.json
    â”œâ”€ errors (blocking)
    â”œâ”€ warnings (non-blocking)
    â””â”€ metrics (info)
```

---

## ğŸ¯ Exit Codes

```
orchestrator exit code:

0 â†’ âœ… All checks PASS (safe to publish)
1 â†’ âš ï¸  Has WARN, no FAIL (continue, but review)
2 â†’ âŒ Has FAIL (STOP, fix issues)
```

---

**Ğ’ĞµÑ€ÑĞ¸Ñ:** 1.0 | **Updated:** 2025-11-17
