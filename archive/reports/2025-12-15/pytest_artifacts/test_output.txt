[1m============================= test session starts =============================[0m
platform win32 -- Python 3.14.0, pytest-9.0.1, pluggy-1.6.0 -- C:\Python314\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\user\Documents\ï¿½ï¿½ï¿½ï¿½ï¿½\Ultimate.net.ua\ï¿½ï¿½ï¿½_ï¿½ï¿½ï¿½_ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½_ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
configfile: pytest.ini
plugins: cov-7.0.0, mock-3.15.1
[1mcollecting ... [0mcollected 54 items

tests/test_validate_content.py::test_clean_markdown [32mPASSED[0m[32m               [  1%][0m
tests/test_validate_content.py::test_count_words [32mPASSED[0m[32m                  [  3%][0m
tests/test_validate_content.py::test_count_chars_no_spaces [32mPASSED[0m[32m        [  5%][0m
tests/test_validate_content.py::test_extract_h1 [32mPASSED[0m[32m                   [  7%][0m
tests/test_validate_content.py::test_extract_h2s [32mPASSED[0m[32m                  [  9%][0m
tests/test_validate_content.py::test_extract_intro [32mPASSED[0m[32m                [ 11%][0m
tests/test_validate_content.py::test_count_faq [32mPASSED[0m[32m                    [ 12%][0m
tests/test_validate_content.py::test_check_structure_pass [32mPASSED[0m[32m         [ 14%][0m
tests/test_validate_content.py::test_check_structure_fail [32mPASSED[0m[32m         [ 16%][0m
tests/test_validate_content.py::test_check_primary_keyword_pass [32mPASSED[0m[32m   [ 18%][0m
tests/test_validate_content.py::test_check_primary_keyword_fail [32mPASSED[0m[32m   [ 20%][0m
tests/test_validate_content.py::test_check_keyword_coverage [32mPASSED[0m[32m       [ 22%][0m
tests/test_validate_content.py::test_check_primary_keyword_semantic_pass [32mPASSED[0m[32m [ 24%][0m
tests/test_validate_content.py::test_check_primary_keyword_semantic_fail [32mPASSED[0m[32m [ 25%][0m
tests/test_validate_content.py::test_check_quality_pass [32mPASSED[0m[32m           [ 27%][0m
tests/test_validate_content.py::test_check_quality_fail [32mPASSED[0m[32m           [ 29%][0m
tests/test_validate_content.py::test_check_blacklist_pass [32mPASSED[0m[32m         [ 31%][0m
tests/test_validate_content.py::test_check_blacklist_fail [32mPASSED[0m[32m         [ 33%][0m
tests/test_validate_content.py::test_check_length [32mPASSED[0m[32m                 [ 35%][0m
tests/test_validate_content.py::test_check_grammar [31mFAILED[0m[31m                [ 37%][0m
tests/test_validate_content.py::test_check_markdown_lint [31mFAILED[0m[31m          [ 38%][0m
tests/test_validate_content.py::test_validate_content_integration [32mPASSED[0m[31m [ 40%][0m
tests/test_validate_content.py::test_semantic_match_singular_plural [32mPASSED[0m[31m [ 42%][0m
tests/test_validate_content.py::test_semantic_match_stem_based [32mPASSED[0m[31m    [ 44%][0m
tests/test_validate_content.py::test_semantic_no_match [32mPASSED[0m[31m            [ 46%][0m
tests/test_validate_content.py::test_semantic_returns_confidence [32mPASSED[0m[31m  [ 48%][0m
tests/test_validate_content.py::test_semantic_with_intro_check [32mPASSED[0m[31m    [ 50%][0m
tests/test_validate_content.py::test_empty_text [32mPASSED[0m[31m                   [ 51%][0m
tests/test_validate_content.py::test_keyword_coverage_empty [32mPASSED[0m[31m       [ 53%][0m
tests/test_validate_content.py::test_adaptive_target_large [32mPASSED[0m[31m        [ 55%][0m
tests/test_validate_content.py::test_check_structure_no_h2 [32mPASSED[0m[31m        [ 57%][0m
tests/test_validate_content.py::test_coverage_split_basic [32mPASSED[0m[31m         [ 59%][0m
tests/test_validate_content.py::test_coverage_split_core_pass [32mPASSED[0m[31m     [ 61%][0m
tests/test_validate_content.py::test_coverage_split_commercial_info_only [32mPASSED[0m[31m [ 62%][0m
tests/test_validate_content.py::test_coverage_split_empty_commercial [32mPASSED[0m[31m [ 64%][0m
tests/test_validate_content.py::test_coverage_split_missing_keywords [32mPASSED[0m[31m [ 66%][0m
tests/test_batch_generate.py::test_load_batch_log_defaults [32mPASSED[0m[31m        [ 68%][0m
tests/test_batch_generate.py::test_save_batch_log [32mPASSED[0m[31m                 [ 70%][0m
tests/test_batch_generate.py::test_update_category_status [32mPASSED[0m[31m         [ 72%][0m
tests/test_batch_generate.py::test_get_category_status [32mPASSED[0m[31m            [ 74%][0m
tests/test_batch_generate.py::test_run_analyze_success [32mPASSED[0m[31m            [ 75%][0m
tests/test_batch_generate.py::test_run_analyze_fail [32mPASSED[0m[31m               [ 77%][0m
tests/test_batch_generate.py::test_run_validate_pass [32mPASSED[0m[31m              [ 79%][0m
tests/test_batch_generate.py::test_run_validate_fail [32mPASSED[0m[31m              [ 81%][0m
tests/test_batch_generate.py::test_extract_issues [32mPASSED[0m[31m                 [ 83%][0m
tests/test_batch_generate.py::test_extract_issues_h1 [32mPASSED[0m[31m              [ 85%][0m
tests/test_batch_generate.py::test_extract_issues_nausea [32mPASSED[0m[31m          [ 87%][0m
tests/test_batch_generate.py::test_generate_fix_prompt [32mPASSED[0m[31m            [ 88%][0m
tests/test_batch_generate.py::test_attempt_self_heal [32mPASSED[0m[31m              [ 90%][0m
tests/test_batch_generate.py::test_process_category_success [32mPASSED[0m[31m       [ 92%][0m
tests/test_batch_generate.py::test_process_category_analyze_fail [32mPASSED[0m[31m  [ 94%][0m
tests/test_batch_generate.py::test_process_all [32mPASSED[0m[31m                    [ 96%][0m
tests/test_batch_generate.py::test_process_all_only_pending [32mPASSED[0m[31m       [ 98%][0m
tests/test_batch_generate.py::test_list_all_categories [32mPASSED[0m[31m            [100%][0m

================================== FAILURES ===================================
[31m[1m_____________________________ test_check_grammar ______________________________[0m
[1m[31mtests\test_validate_content.py[0m:224: in test_check_grammar
    [0m[94massert[39;49;00m result[[33m"[39;49;00m[33moverall[39;49;00m[33m"[39;49;00m] == [33m"[39;49;00m[33mPASS[39;49;00m[33m"[39;49;00m[90m[39;49;00m
[1m[31mE   AssertionError: assert 'SKIPPED' == 'PASS'[0m
[1m[31mE     [0m
[1m[31mE     [0m[91m- PASS[39;49;00m[90m[39;49;00m[0m
[1m[31mE     [92m+ SKIPPED[39;49;00m[90m[39;49;00m[0m
[31m[1m__________________________ test_check_markdown_lint ___________________________[0m
[1m[31mtests\test_validate_content.py[0m:251: in test_check_markdown_lint
    [0m[94massert[39;49;00m result[[33m"[39;49;00m[33moverall[39;49;00m[33m"[39;49;00m] == [33m"[39;49;00m[33mPASS[39;49;00m[33m"[39;49;00m[90m[39;49;00m
[1m[31mE   AssertionError: assert 'SKIPPED' == 'PASS'[0m
[1m[31mE     [0m
[1m[31mE     [0m[91m- PASS[39;49;00m[90m[39;49;00m[0m
[1m[31mE     [92m+ SKIPPED[39;49;00m[90m[39;49;00m[0m
=============================== tests coverage ================================
_______________ coverage: platform win32, python 3.14.0-final-0 _______________

Name                                             Stmts   Miss  Cover   Missing
------------------------------------------------------------------------------
scripts\analyze_category.py                        258    258     0%   29-646
scripts\batch_generate.py                          297    114    62%   52-55, 64-65, 118-181, 197, 200-203, 237-238, 242-245, 254, 269, 273-276, 296, 300, 302, 315, 318, 324, 327, 356, 360, 368, 410-411, 416-419, 434-458, 486, 542-575, 579
scripts\check_ner_brands.py                        143    126    12%   35-42, 130-144, 149-210, 220-253, 263-346, 350-358, 362
scripts\check_seo_structure.py                     160    160     0%   19-342
scripts\check_simple_v2_md.py                      448    448     0%   19-1073
scripts\check_water_natasha.py                     164    140    15%   23, 27-31, 49-55, 83-100, 113-187, 206-208, 220-300, 304-320, 324
scripts\extract_competitor_urls_v2.py              224    224     0%   14-437
scripts\filter_mega_competitors.py                 223    223     0%   20-420
scripts\mega_url_extract.py                        152    152     0%   26-318
scripts\parse_hubs_logic.py                         79     79     0%   12-176
scripts\parse_semantics_to_json.py                 219    219     0%   29-529
scripts\quality_runner.py                          448    448     0%   38-808
scripts\seo_utils.py                               239    190    21%   129-148, 163-167, 180, 201-223, 237-240, 319-342, 357-358, 375-376, 396-425, 450-471, 494-515, 537-562, 588-607, 662-693, 743-757, 814-823, 853-884, 898-902, 939-949, 966-976, 986-1012
scripts\setup_all.py                               119    119     0%   22-375
scripts\show_keyword_distribution.py                91     91     0%   10-161
scripts\url_filters.py                              25     25     0%   10-91
scripts\url_preparation_filter_and_validate.py     177    177     0%   9-329
scripts\validate_content.py                        506    241    52%   39-40, 44-45, 50-51, 56, 64, 76-83, 126, 234, 316-317, 380, 428-431, 485-486, 500, 512, 524, 543, 547-549, 575-576, 591, 595-596, 616, 647-683, 707-737, 768, 785-788, 792, 812, 816, 820, 824, 828, 830, 832, 836, 838, 842, 846, 875-1013, 1017-1076, 1080
------------------------------------------------------------------------------
TOTAL                                             3972   3434    14%

1 file skipped due to complete coverage.
Coverage HTML written to dir htmlcov
Coverage JSON written to file coverage.json
[36m[1m=========================== short test summary info ===========================[0m
[31mFAILED[0m tests/test_validate_content.py::[1mtest_check_grammar[0m - AssertionError: assert 'SKIPPED' == 'PASS'
[31mFAILED[0m tests/test_validate_content.py::[1mtest_check_markdown_lint[0m - AssertionError: assert 'SKIPPED' == 'PASS'
[31m======================== [31m[1m2 failed[0m, [32m52 passed[0m[31m in 1.78s[0m[31m =========================[0m
