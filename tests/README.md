# Test Suite

**[‚Üê –ù–∞–∑–∞–¥ –≤ –∫–æ—Ä–µ–Ω—å](../README.md)**

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤ –ø–∞–π–ø–ª–∞–π–Ω–∞.
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `pytest`.

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
tests/
‚îú‚îÄ‚îÄ unit/          # –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã (–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏)
‚îú‚îÄ‚îÄ integration/   # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ (—Ñ–∞–π–ª—ã, –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö)
‚îú‚îÄ‚îÄ e2e/           # End-to-End (–ø–æ–ª–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏)
‚îú‚îÄ‚îÄ fixtures/      # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (CSV, JSON, MD)
‚îú‚îÄ‚îÄ helpers/       # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤
‚îî‚îÄ‚îÄ conftest.py    # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã
```

## üöÄ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

### 1. –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤

```bash
python -m pytest
```

### 2. –ó–∞–ø—É—Å–∫ –ø–æ —Ç–∏–ø–∞–º

```bash
python -m pytest tests/unit          # –¢–æ–ª—å–∫–æ –±—ã—Å—Ç—Ä—ã–µ unit-—Ç–µ—Å—Ç—ã
python -m pytest tests/integration   # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ
python -m pytest -m "not slow"       # –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è (Coverage)

```bash
python -m pytest --cov=scripts --cov-report=html
# –û—Ç—á–µ—Ç –±—É–¥–µ—Ç –≤ artifacts/pytest/htmlcov/index.html
```

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ—Å—Ç–æ–≤

–ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤ –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ—Å—å –≥–∞–π–¥–æ–≤ –≤ `tasks/TZ_TEST_COVERAGE.md`.

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**

-   **Unit:** –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –æ–¥–Ω—É —Ñ—É–Ω–∫—Ü–∏—é –≤ –∏–∑–æ–ª—è—Ü–∏–∏. –ú–æ–∫–∞–π—Ç–µ –≤–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.
-   **Integration:** –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `tmp_path` —Ñ–∏–∫—Å—Ç—É—Ä—É.
-   **E2E:** –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª (–æ—Ç CSV –¥–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞).

## üß© –§–∏–∫—Å—Ç—É—Ä—ã

–û–±—â–∏–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `conftest.py`.
–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:

-   `fixtures/csv/` - –æ–±—Ä–∞–∑—Ü—ã —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
-   `fixtures/json/` - –æ–±—Ä–∞–∑—Ü—ã –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
-   `fixtures/md/` - –æ–±—Ä–∞–∑—Ü—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞
